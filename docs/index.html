<!DOCTYPE html>
<html lang="en">

<head>
    <link href='https://fonts.googleapis.com/css?family=JetBrains Mono' rel='stylesheet'>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NV ODMR Demo</title>
    <link rel="stylesheet" href="style.css">
    <script src="utils.js"></script>
</head>

<body>
    <h1>NV ODMR Demo</h1>
    <div id="odmr"></div>
    <script type="module" src="main.js"></script>

    <div class="input-container">
        <div class="row">
            <div class="columnleft">
                <label for="slider-mag">Magnetic field strength (mT)</label>
            </div>
            <div class="columnright">
                <input type="range" id="slider-mag" min="0" max="10" step="0.01" value="0.00" style="width: 180px;">

                <input type="number" id="manual-input-mag" min="0" max="10" step="0.01" value="0.00" style="width: 50px; float: right; margin-left: 10px;" oninput=enforceMinMax(this);>
            </div>
        </div>
        <script>
            const sliderMag = document.getElementById('slider-mag');
            const manualInputMag = document.getElementById('manual-input-mag');

            sliderMag.addEventListener('input', function() {
                const value = parseFloat(this.value).toFixed(2);
                manualInputMag.value = value;
            });

            manualInputMag.addEventListener('input', function() {
                const value = parseFloat(this.value).toFixed(2);
                sliderMag.value = value;

            });
        </script>

        <div class="row">
            <div class="columnleft">
                <label for="slider-temp">Temperature (K)</label>
            </div>
            <div class="columnright">
                <input type="range" id="slider-temp" min="300" max="700" step="1" value="300" style="width: 180px;">

                <input type="number" id="manual-input-temp" min="300" max="700" step="1" value="300" style="width: 50px; float: right; margin-left: 10px;" oninput=enforceMinMax(this);>
            </div>
        </div>
        <script>
            const sliderTemp = document.getElementById('slider-temp');
            const manualInputTemp = document.getElementById('manual-input-temp');

            sliderTemp.addEventListener('input', function() {
                const value = parseFloat(this.value);
                manualInputTemp.value = value;
            });

            manualInputTemp.addEventListener('input', function() {
                const value = parseFloat(this.value);
                sliderTemp.value = value;

            });
        </script>

        <div class="row">
            <div class="columnleft">
                <label for="slider-noise">Noise</label>
            </div>
            <div class="columnright">
                <input type="range" id="slider-noise" min="0" max="10" step="0.01" value="0.00" style="width: 180px;">

                <input type="number" id="manual-input-noise" min="0" max="10" step="0.01" value="0.00" style="width: 50px; float: right; margin-left: 10px;" oninput=enforceMinMax(this);>
            </div>
        </div>
        <script>
            const sliderNoise = document.getElementById('slider-noise');
            const manualInputNoise = document.getElementById('manual-input-noise');

            sliderNoise.addEventListener('input', function() {
                const value = parseFloat(this.value).toFixed(2);
                manualInputNoise.value = value;
            });

            manualInputNoise.addEventListener('input', function() {
                const value = parseFloat(this.value).toFixed(2);
                sliderNoise.value = value;

            });
        </script>

        <div class="row">
            <div class="columnleft">
                <label for="toggle-hyperfine">Nitrogen hyperfine splitting:</label>
            </div>
            <div class="columnright">
                <label class="switch" style="float: right;">
                <input type="checkbox" id="toggle-hyperfine">
                <span class="slider"></span>
                </label>
            </div>
        </div>

        <div class="row">
            <div class="columnleft">
                <label for="toggle-all-axes">Use all NV axes:</label>
            </div>
            <div class="columnright">
                <label class="switch" style="float: right;">
                <input type="checkbox" id="toggle-all-axes">
                <span class="slider"></span>
            </label>
            </div>
        </div>

        <div class="row" id="orientation-row" style="display: none;">
            <div class="columnleft">
                <label>Magnetic field orientation:</label>
            </div>
            <div class="columnright">
                <div style="float:right">
                    <div class="input-group">
                        <input type="number" id="x-value" step="0.01" value="1" , style="float: right;">
                        <label class="coord" for="x-value">x</label>
                    </div>
                    <div class="input-group">
                        <input type="number" id="y-value" step="0.01" value="1" , style="float: right;">
                        <label class="coord" for="y-value">y</label>
                    </div>
                    <div class="input-group">
                        <input type="number" id="z-value" step="0.01" value="1" , style="float: right;">
                        <label class="coord" for="z-value">z</label>
                    </div>
                </div>
            </div>
        </div>
        <script>
            const toggleAllAxes = document.getElementById('toggle-all-axes');
            const orientationRow = document.getElementById('orientation-row');
            toggleAllAxes.addEventListener('change', function() {
                orientationRow.style.display = this.checked ? 'flex' : 'none';
            });
        </script>

    </div>

</body>

</html>